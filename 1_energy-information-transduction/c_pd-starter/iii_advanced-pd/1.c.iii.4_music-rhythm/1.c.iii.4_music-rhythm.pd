#N canvas 177 22 680 720 10;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-myMelody 24 float 3;
#A 0 66 82 66 52 66 78 66 55 67 90 67 61 67 79 67 85 65 90 65 99 100
66 52 64;
#X coords 0 127 24 0 200 127 1 0 0;
#X restore 97 93 graph;
#X text 49 56 1;
#X obj 80 657 *~ 0.3;
#X obj 70 716 dac~;
#X text 78 57 here's our melody array:;
#X text 53 250 2;
#X text 72 250 here's our sequencer \, now put in a sub-patch;
#N canvas 0 22 948 711 sequencer 0;
#X obj 214 354 tabread \$0-myMelody;
#X floatatom 215 327 5 0 0 0 - - -;
#X floatatom 214 390 5 0 0 0 - - -;
#X obj 215 273 f;
#X obj 263 273 + 1;
#X obj 263 295 mod 24;
#X obj 214 512 osc~;
#X text 309 294 <--- don't go over 23!;
#X text 268 418 <--- change from MIDI (linear) to Hertz (log);
#X floatatom 215 463 5 0 0 0 - - -;
#X obj 214 419 mtof;
#X obj 189 108 inlet;
#X obj 303 129 inlet;
#X obj 216 574 outlet~;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 13 0;
#X connect 9 0 6 0;
#X connect 10 0 9 0;
#X connect 11 0 3 0;
#X connect 12 0 5 1;
#X restore 80 601 pd sequencer;
#X obj 75 359 tgl 25 0 empty empty On/Off 30 12 0 12 -4034 -1 -1 1
1;
#X floatatom 274 429 5 0 0 1 rhythmic-pulse-duration_(ms) - -;
#X floatatom 146 577 5 0 0 1 sequence_length - -;
#X text 162 601 <--- double click to see what's inside;
#X obj 75 449 metro 100;
#X obj 171 445 + 1;
#X obj 171 511 * 100;
#X floatatom 172 541 5 0 0 0 - - -;
#X obj 171 414 random 2;
#N canvas 0 22 948 711 sequencer 0;
#X obj 214 354 tabread \$0-myMelody;
#X floatatom 215 327 5 0 0 0 - - -;
#X floatatom 214 390 5 0 0 0 - - -;
#X obj 215 273 f;
#X obj 263 273 + 1;
#X obj 263 295 mod 24;
#X obj 214 512 osc~;
#X text 309 294 <--- don't go over 23!;
#X text 268 418 <--- change from MIDI (linear) to Hertz (log);
#X floatatom 215 463 5 0 0 0 - - -;
#X obj 214 419 mtof;
#X obj 189 108 inlet;
#X obj 303 129 inlet;
#X obj 216 574 outlet~;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 13 0;
#X connect 9 0 6 0;
#X connect 10 0 9 0;
#X connect 11 0 3 0;
#X connect 12 0 5 1;
#X restore 75 275 pd sequencer;
#X text 54 332 3;
#X text 73 332 now let's play it with some more exciting timing;
#X msg 306 378 100;
#X msg 274 377 50;
#X floatatom 171 480 5 0 0 0 - - -;
#X text 208 477 <--- sometimes 1 (short) \, sometimes 2 (long);
#X text 369 377 <--- try these;
#X msg 340 378 150;
#X obj 519 -8 tgl 25 0 empty empty Enable_Audio 30 12 0 12 -4034 -1
-1 1 1;
#X msg 519 23 \; pd dsp \$1;
#X obj 33 -122 cnv 15 600 100 empty empty 1.c.iii.4_Music_Rhythm 20
12 0 14 -204800 -66577 0;
#X obj 359 -4 cnv 15 150 20 empty empty empty 20 12 0 14 -4034 -66577
0;
#X text 363 -3 Enable audio output -->;
#X text 390 -39 must turn on DSP for audio to work in PD;
#X text 68 -93 A demonstration of a table-driven synthesizer which
plays a loop of specified pitches from a table with a random rhythm.
;
#X text 127 657 amplitude scaling;
#X connect 2 0 3 1;
#X connect 2 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 12 0;
#X connect 9 0 14 1;
#X connect 10 0 7 1;
#X connect 12 0 7 0;
#X connect 12 0 16 0;
#X connect 13 0 22 0;
#X connect 14 0 15 0;
#X connect 15 0 12 1;
#X connect 16 0 13 0;
#X connect 20 0 9 0;
#X connect 21 0 9 0;
#X connect 22 0 14 0;
#X connect 25 0 9 0;
#X connect 26 0 27 0;
