<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Exercise: I<sup>2</sup>C and SPI</title>
    <style type="text/css">span.eqn { white-space: nowrap; }</style>
    <meta name="description" content="exercise notes">
    <meta name="author" content="garthz">
  </head>
  <body>

    <h4>Objective</h4>
 
    <p>Communicate digital data between an Arduino and other devices using I<sup>2</sup>C and SPI busses.</p>

    <p>The Arduino I/O pins allow it to bridge the gap directly between digital
      information and physical signals.  However, it can also transmit data to
      and from other computational devices.  The previous examples have
      implicitly used USB and an asynchronous serial UART for downloading
      programs and looking at text output.  But even simpler bus standards, such
      as
      <em>I<sup>2</sup>C</em> and <em>SPI</em> are useful for connecting an
      Arduino to I/O modules or even other Arduinos.</p>

    <p>This capability is useful for rapid prototyping, since many interface
      functions are available in modular form.  For example, there exist modules:</p>
      <ol>
	<li>to extend the number of available digital inputs or outputs</li>

	<li>with specialized electrical behavior such as automatic current
	  regulation or PWM generation</li>

	<li>which can provide RGB color LED illumination controlled purely by
	  digital data, including PWM generation and power drive</li>
      </ol>

    <p>Using digital busses essentially makes the Arduino a node in a network
      comprising multiple computers, possibly including a host desktop or
      laptop.  Each type of link has different characteristics:</p>

    <ul>
      <li>SPI is normally a point-to-point connection, or sometimes one-to-many.
	It can be relatively fast (e.g. up to 25&nbsp;mbps).  It requires four
	wires for bidirectional communication but support <em>full-duplex</em>
	transfer with simultaneous input and output.  Output-only connections
	can use just three wires.  It is designed for short-range connection to
	simple devices such as a chain of LED modules or a high-resolution
	ADC.</li>

      <li>I<sup>2</sup>C can connect multiple devices on a single bus.  It is
      relatively low speed, typically 400&nbsp;kbps up to one&nbsp;mbps.  It
      uses three wires with separate clock and data but is half-duplex.  The
      protocols are more elaborate and involve specific phases of transmitting
      device addresses and receiving replies.  It is designed for short-range
      connection within a single system.</li>

    </ul>

    <p>In general, using a device-level serial bus requires using a library to
      handle the data transfer, but also understanding the datasheet for the
      particular device.  In the simplest case, this involves simple data
      protocols for formatting messages to other devices.  Sophisticated devices
      can require elaborate programs to handle a variety of messages, so for
      example, a real-time clock-calendar chip can have dozens of registers
      available over an I<sup>2</sup>C bus to keep track of time and set
      alarms.</p>


    <h4>Steps and observations</h4>
    <ol>
      <li>Locate the examples for the SPI and Wire libraries in the Arduino IDE.</li>
    </ol>

    <h4>Comments</h4>


  </body>
</html>
